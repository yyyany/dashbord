# SpÃ©cification technique â€“ SystÃ¨me de Widgets dans le Dashboard

## ğŸ§© Objectif gÃ©nÃ©ral

Mettre en place un **systÃ¨me de widgets personnalisables** dans un Dashboard utilisateur. Chaque utilisateur pourra :

* Ajouter un ou plusieurs widgets selon ses besoins
* Retirer les widgets quâ€™il ne veut plus voir
* Organiser visuellement les widgets dans lâ€™interface
* Conserver la disposition via un systÃ¨me de sauvegarde liÃ© Ã  son compte

---

## ğŸ§± Structure technique (conceptuelle)

### 1. Base de donnÃ©es (MongoDB)

Chaque utilisateur disposera dâ€™un objet `dashboard` dans sa collection `users`, contenant :

* Une liste de widgets actifs
* Les paramÃ¨tres propres Ã  chaque widget (taille, position, prÃ©fÃ©rences)
* Un identifiant unique pour chaque widget (utile pour le drag/drop)

### 2. Frontend (React)

Lâ€™interface Dashboard affiche dynamiquement les widgets actifs dâ€™un utilisateur en se basant sur la configuration rÃ©cupÃ©rÃ©e depuis la base.

* Les widgets sont chargÃ©s dans une grille flexible
* Une barre latÃ©rale ou un menu permet dâ€™ajouter/enlever des widgets
* Un systÃ¨me de drag & drop permet de repositionner les widgets (dans les versions futures si trop complexe au dÃ©part)

---

## ğŸ§° Widgets proposÃ©s (version 1)

### 1. âœ… To-do list

* **FonctionnalitÃ©s** :

  * Ajouter / supprimer une tÃ¢che
  * Marquer comme terminÃ©e
  * RÃ©organisation simple
* **Design** :

  * Zone blanche avec en-tÃªte "Mes tÃ¢ches"
  * Liste verticale, champs dâ€™entrÃ©e en bas
  * Taille fixe (ex. 3 colonnes x 2 lignes)

### 2. ğŸŒ¦ï¸ MÃ©tÃ©o

* **FonctionnalitÃ©s** :

  * Choix manuel de ville
  * Affichage : tempÃ©rature, conditions, icÃ´ne mÃ©tÃ©o
* **Design** :

  * Carte compacte avec icÃ´ne animÃ©e (ensoleillÃ©, pluieâ€¦)
  * Taille moyenne (2 colonnes x 2 lignes)

### 3. ğŸ—’ï¸ Notes rapides

* **FonctionnalitÃ©s** :

  * Ã‰dition instantanÃ©e (autosave)
  * Suppression dâ€™un bloc
* **Design** :

  * Zone texte sans bordures superflues
  * Taille ajustable (2 Ã  4 colonnes)

### 4. ğŸ“… Compte Ã  rebours

* **FonctionnalitÃ©s** :

  * Nom de lâ€™Ã©vÃ©nement
  * Date de fin
  * Affichage dynamique : â€œJ-10â€, â€œ2h restantesâ€â€¦
* **Design** :

  * Style carte foncÃ©e avec texte contrastÃ©
  * Taille : petit ou moyen (1x2 ou 2x2)

### 5. ğŸ’¡ Citation du jour

* **FonctionnalitÃ©s** :

  * Sourcing alÃ©atoire via liste ou API
  * Option pour liker / enregistrer une citation
* **Design** :

  * Typographie stylÃ©e, fond doux
  * Format carte horizontale (4 colonnes x 1 ligne)

---

## ğŸ§­ Comportement gÃ©nÃ©ral des widgets

### Ajouter un widget

* L'utilisateur clique sur un bouton "Ajouter un widget"
* Une modale ou un menu latÃ©ral sâ€™ouvre avec la liste des widgets disponibles
* Lorsquâ€™il clique sur un widget, celui-ci est :

  * AjoutÃ© Ã  son dashboard avec une position par dÃ©faut
  * EnregistrÃ© dans sa configuration personnelle

### Supprimer un widget

* Chaque widget comporte un bouton (ex. icÃ´ne poubelle) visible au survol
* En cliquant dessus :

  * Le widget est supprimÃ© de lâ€™interface
  * Mise Ã  jour de la base de donnÃ©es

### (Futur) RÃ©organisation

* Glisser-dÃ©poser des widgets dans la grille
* Sauvegarde automatique de la position via Ã©vÃ©nement `onDragEnd`
* SystÃ¨me basÃ© sur des coordonnÃ©es `x`, `y`, `w`, `h` pour chaque widget

---

## ğŸ’¾ Sauvegarde et rÃ©cupÃ©ration

* Ã€ chaque modification (ajout, retrait, position), la configuration complÃ¨te du Dashboard est synchronisÃ©e cÃ´tÃ© serveur
* Lors du chargement de la page :

  * Authentification â†’ rÃ©cupÃ©ration du `dashboard` de lâ€™utilisateur
  * Affichage dynamique des widgets selon leurs positions

---

## ğŸ¨ Design UI

* Grille responsive (nombre de colonnes variable selon Ã©cran)
* Widgets sous forme de **cartes** avec ombres douces et coins arrondis
* Palette claire avec accents personnalisables
* IcÃ´nes sobres, typographie lisible (ex. Inter, Roboto)

---

## ğŸ” SÃ©curitÃ©

* Chaque modification est associÃ©e Ã  lâ€™utilisateur authentifiÃ©
* Aucun widget nâ€™est modifiable par un autre utilisateur
* Validation des paramÃ¨tres dâ€™entrÃ©e (taille, position, type de widget)
